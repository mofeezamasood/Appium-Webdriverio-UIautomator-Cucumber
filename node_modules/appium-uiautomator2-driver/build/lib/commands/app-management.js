"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.mobileInstallMultipleApks = mobileInstallMultipleApks;
const lodash_1 = __importDefault(require("lodash"));
const bluebird_1 = __importDefault(require("bluebird"));
const driver_1 = require("appium/driver");
const extensions_1 = require("../extensions");
/**
 * Installs multiple APKs with `install-multiple` option.
 * @param apks - Array of APK file paths or URLs to install.
 * @param options - Optional installation options (allowTestPackages, useSdcard, grantPermissions, etc.).
 * @throws {errors.InvalidArgumentError} If the apks array is empty or invalid.
 */
async function mobileInstallMultipleApks(apks, options) {
    if (!lodash_1.default.isArray(apks) || lodash_1.default.isEmpty(apks)) {
        throw new driver_1.errors.InvalidArgumentError('No apks are given to install');
    }
    const configuredApks = await bluebird_1.default.all(apks.map((app) => this.helpers.configureApp(app, [extensions_1.APK_EXTENSION])));
    await this.adb.installMultipleApks(configuredApks, options);
}
//# sourceMappingURL=app-management.js.map